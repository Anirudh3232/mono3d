###############################################################################
# --------------  PyTorch / CUDA 11.8  – keep the --find-links line ---------- #
--find-links https://download.pytorch.org/whl/torch_stable.html
torch==2.1.0+cu118
torchvision==0.16.0+cu118
torchaudio==2.1.0+cu118
###############################################################################

# --------------------------  Core ML / Diffusion stack  --------------------- #
transformers==4.30.2          # needs tokenizers >= 0.13.3
diffusers==0.21.4             # needs huggingface-hub >= 0.14.1
accelerate==0.20.3
huggingface_hub==0.16.4       # provides cached_download
tokenizers==0.13.3
safetensors>=0.3.1,<0.6

# -------------------------------  ControlNet  -------------------------------- #
controlnet-aux==0.0.7         # pulls scikit-image & opencv-python-headless

# --------------------------  Math / Imaging basics  ------------------------- #
numpy==1.24.3                 # pinned for manylinux wheels on Colab
Pillow==9.5.0
scipy==1.10.1
einops==0.6.1
omegaconf==2.3.0
imageio==2.31.1

# ---------------------------  TripoSR & 3-D stack  --------------------------- #
trimesh==3.22.4
xatlas==0.0.10
PyMCubes==0.1.4

# CUDA-accelerated marching-cubes kernel (builds against the torch above)
git+https://github.com/tatsy/torchmcubes.git

# --------------------------  Background removal  ---------------------------- #
rembg==2.0.50                 # pulls onnxruntime
onnxruntime>=1.16.0,<2.0.0

# ------------------------------  Web server  -------------------------------- #
Flask==2.3.2
Flask-Cors==4.0.0

# --------------------------  System / Monitoring  --------------------------- #
psutil==5.9.5

# -----------------------------  HTTP utilities  ----------------------------- #
requests==2.31.0
opencv-python-headless>=4.7.0  # cv2 without GUI libs
scikit-image>=0.20.0           # already required by controlnet-aux

###############################################################################
# Optional – uncomment if you want the Gradio demo UI
# gradio>=4.27,<4.38
###############################################################################
