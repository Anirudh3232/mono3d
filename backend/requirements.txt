# ───────────────── PyTorch & CUDA ──────────────────
torch==2.2.2+cu118
torchvision==0.17.2+cu118
torchaudio==2.2.2+cu118
-f https://download.pytorch.org/whl/torch_stable.html

# ────────── Diffusers & Transformers Stack ──────────
diffusers==0.27.2
transformers==4.38.2
accelerate==0.27.2
peft==0.9.0
huggingface_hub==0.28.0
controlnet-aux==0.0.7            # includes CannyDetector

# ────────── 3-D / TripoSR & geometry  ──────────────
einops==0.7.0
omegaconf==2.3.0
trimesh==4.4.0
scipy>=1.10.0,<1.12.0
PyMCubes==0.1.4
xatlas==0.0.10                    # pre-compiled wheels (Linux x86_64)
git+https://github.com/tatsy/torchmcubes.git
pytorch3d==0.7.5                 # required by TripoSR renderer

# ─────────────── Image / numerics ────────────────
numpy>=1.23.0,<1.27.0
Pillow>=9.5.0,<11.0.0
timm==0.9.16
imageio==2.34.0
imageio-ffmpeg>=0.4.8
opencv-python-headless>=4.8.0    # Canny & misc image ops

# ─────────────── Background removal ──────────────
rembg>=2.0.53,<3.0.0

# ─────────────── Optional speed-ups ───────────────
xformers>=0.0.26.post1           # memory-efficient attention (GPU only)

# ─────────────── API Server  ───────────────
Flask==3.0.3
Flask-Cors==4.0.1

# ─────────────── System Monitoring ───────────────
psutil>=5.9.0,<6.0.0

# ─────────────── ONNX Runtime  ───────────────
onnxruntime>=1.16.0,<2.0.0

# ─────────────── Testing / Dev  ───────────────
requests>=2.31.0,<3.0.0
